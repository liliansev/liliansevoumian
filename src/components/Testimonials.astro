---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import ismailImg from '../assets/testimonials/ismail.jpeg';
import alexisImg from '../assets/testimonials/alexis.jpeg';
import benjaminImg from '../assets/testimonials/benjamin.png';
import carolineImg from '../assets/testimonials/caroline.jpeg';
import geraldImg from '../assets/testimonials/gerald.jpeg';

const testimonials = [
  {
    quote: "Un Champion du no code d'Airtable et de Make avéré ! Un vrai bonheur de travailler avec Lilian sur des sujets de connectivité via Make. Il est à l'écoute, arrangeant et passionné.",
    author: "Ismail Landoulsi",
    role: "Co-Founder & COO",
    company: "CasanovaParis",
    link: "https://www.linkedin.com/in/ismail-landoulsi/",
    image: ismailImg
  },
  {
    quote: "J'ai la chance d'avoir collaboré à de nombreuses reprises avec Lilian et nous avons même conçu une formation à Make ensemble. Je peux témoigner à la fois de son expertise en automatisation et de sa volonté infaillible de servir un projet.",
    author: "Alexis Kovalenko",
    role: "Co-fondateur",
    company: "Contournement",
    link: "https://www.linkedin.com/in/alexiskovalenko/",
    image: alexisImg
  },
  {
    quote: "Il a une approche très professionnelle, un large spectre de connaissances, et un bon esprit de synthèse. Tout cela fait que les projets qu'il prend en charge sont un succès. Je le recommande chaudement !",
    author: "Benjamin Potet",
    role: "Solution Architect",
    company: "Customer Experience",
    link: "https://www.linkedin.com/in/benjaminpo/",
    image: benjaminImg
  },
  {
    quote: "Lilian nous a accompagné à migrer nos automatisations de Zapier à Make en améliorant de nombreux scénarios pour plus d'efficacité.",
    author: "Caroline Le Viet",
    role: "Co-fondatrice",
    company: "Edumiam",
    link: "https://www.linkedin.com/in/carolineleviet/",
    image: carolineImg
  },
  {
    quote: "Plus qu'une prestation de service, c'est réellement un moment d'échange, de partage, et de formation que Lilian offre à travers ses interventions. On ressort grandit dans notre manière de travailler à chaque fois.",
    author: "Gérald Durand",
    role: "Directeur Général",
    company: "BodyCoaching",
    link: "https://www.linkedin.com/in/gerald-savemind/",
    image: geraldImg
  }
];

const fakeTestimonial = {
  quote: "La prochaine success story, c'est vous ?",
  author: "Vous ?",
  role: "Chief Très Occupé",
  company: "Votre Entreprise",
  link: "https://lilian.yt/contact"
};
---

<section id="temoignages" class="section-padding px-6 bg-zinc-50">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="mb-10 lg:mb-16">
      <p class="fluid-text-xs text-zinc-400 font-medium uppercase mb-3">
        Témoignages
      </p>
      <h2 class="fluid-h1 font-semibold text-zinc-900">
        Retours clients
      </h2>
    </div>

    <!-- Testimonials Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {testimonials.map((testimonial) => (
        <a
          href={testimonial.link}
          target="_blank"
          rel="noopener noreferrer"
          class="flex flex-col bg-zinc-100 rounded-2xl border border-zinc-200 p-6 group h-full transition-[transform,box-shadow,border-color] duration-150 ease-out hover:-translate-y-0.5 hover:shadow-lg hover:border-zinc-300 active:translate-y-0 active:shadow-md"
        >
          <!-- Quote -->
          <blockquote class="text-zinc-700 fluid-text-sm mb-6 flex-1 fluid-prose-lg">
            "{testimonial.quote}"
          </blockquote>

          <!-- Author -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <Image
                src={testimonial.image}
                alt={testimonial.author}
                width={40}
                height={40}
                class="w-10 h-10 rounded-full object-cover"
              />
              <div>
                <div class="fluid-text-sm font-medium text-zinc-900">{testimonial.author}</div>
                <div class="fluid-text-xs text-zinc-700">{testimonial.role} @ {testimonial.company}</div>
              </div>
            </div>

            <!-- LinkedIn icon -->
            <Icon name="simple-icons:linkedin" class="w-5 h-5 text-zinc-300 group-hover:text-[#0A66C2] transition-colors duration-150" />
          </div>
        </a>
      ))}

      <!-- Fake testimonial - CTA card -->
      <a
        href={fakeTestimonial.link}
        class="flex flex-col rounded-2xl border-2 border-dashed border-zinc-200 p-6 hover:border-zinc-300 hover:bg-zinc-50 transition-[border-color,background-color] duration-150 group h-full bg-white"
      >
        <!-- Quote -->
        <blockquote class="text-zinc-700 fluid-text-sm mb-6 flex-1 italic flex items-center justify-center text-center">
          "{fakeTestimonial.quote}"
        </blockquote>

        <!-- Author -->
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-zinc-300 flex items-center justify-center text-zinc-500 group-hover:bg-zinc-400 group-hover:text-zinc-700 transition-colors duration-150">
              <Icon name="lucide:user-plus" class="w-5 h-5" />
            </div>
            <div>
              <div class="fluid-text-sm font-medium text-zinc-800">{fakeTestimonial.author}</div>
              <div class="fluid-text-xs text-zinc-700">{fakeTestimonial.role} @ {fakeTestimonial.company}</div>
            </div>
          </div>

          <!-- Arrow icon -->
          <Icon name="lucide:arrow-right" class="w-5 h-5 text-zinc-900 group-hover:translate-x-1 transition-transform duration-150" />
        </div>
      </a>
    </div>
  </div>
</section>
