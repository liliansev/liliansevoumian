---
import { Icon } from 'astro-icon/components';

const navLinks = [
  { href: "#expertise", label: "Expertise" },
  { href: "#process", label: "Méthode" },
  { href: "#parcours", label: "Parcours" },
  { href: "#tarifs", label: "Tarifs" }
];
---

<nav class="fixed top-0 w-full z-50 bg-zinc-100/80 backdrop-blur-md border-b border-zinc-200">
  <div class="flex h-16 max-w-7xl mx-auto px-6 items-center justify-between">
    <!-- Logo -->
    <a href="#" class="text-lg tracking-tighter font-semibold flex items-center gap-2 group">
      <img src="/logo_liliansevoumian.svg" alt="Logo Lilian Sevoumian" class="h-4 w-auto" />
      <span class="text-zinc-900">Lilian Sevoumian</span>
    </a>

    <!-- Navigation Links (Desktop) -->
    <div class="hidden md:flex items-center gap-8 text-sm font-medium text-zinc-500">
      {navLinks.map((link) => (
        <a href={link.href} class="hover:text-zinc-900 transition-colors">{link.label}</a>
      ))}
    </div>

    <!-- CTA Button with availability -->
    <div class="hidden md:flex items-center gap-3">
      <span class="flex items-center gap-1.5 text-xs text-zinc-500">
        <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
        Disponible
      </span>
      <a
        href="https://cal.com/lilian-sevoumian/prise-de-brief"
        class="group relative flex items-center gap-2 px-4 py-2 bg-[#14B8A6] text-white text-xs font-medium rounded transition-all shadow-lg shadow-teal-200/50 hover:shadow-teal-300/50 overflow-hidden"
      >
        <span class="relative z-10 flex items-center gap-2">
          Réserver un appel
          <Icon name="lucide:arrow-right" class="w-3.5 h-3.5" />
        </span>
        <div class="absolute inset-0 bg-[#0EA5E9] transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-btn"
      class="md:hidden min-h-[44px] min-w-[44px] flex items-center justify-center text-zinc-600 hover:text-zinc-900 active:bg-zinc-200 rounded transition-colors"
      aria-label="Ouvrir le menu"
    >
      <Icon name="lucide:menu" class="w-6 h-6" />
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-zinc-200 bg-zinc-100/95 backdrop-blur-md">
    <div class="px-6 py-4 space-y-3">
      {navLinks.map((link) => (
        <a href={link.href} class="block text-sm font-medium text-zinc-600 hover:text-zinc-900 transition-colors">{link.label}</a>
      ))}
      <a
        href="https://cal.com/lilian-sevoumian/prise-de-brief"
        class="group relative flex items-center justify-center gap-2 mt-4 px-4 py-3 bg-[#14B8A6] text-white text-sm font-medium rounded transition-all overflow-hidden"
      >
        <span class="relative z-10 flex items-center gap-2">
          Réserver un appel
          <Icon name="lucide:arrow-right" class="w-4 h-4" />
        </span>
        <div class="absolute inset-0 bg-[#0EA5E9] transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
      </a>
    </div>
  </div>
</nav>

<script>
  const menuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  menuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Close menu when clicking a link
  mobileMenu?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>
